**Дата:** 17 ноября 2024 г.

**Статус:** Принято

**Контекст:** 

Система поиска и бронирования туров по всему миру должна быть способна обрабатывать значительные объемы данных и запросов, учитывая прогнозируемый рост числа туроператоров и пользователей(SCA01 - SCA04). Это создает необходимость в эффективном масштабировании системы, чтобы обеспечить высокую производительность, надежность и доступность.

**Рассмотренные варианты:**
- Вертикальное масштабирование
- Горизонтальное масштабирование
- Использование облачных технологий

**Решение:**
Сегментирование по региональному признаку позволяет распределить данные по различным серверам в соответсвие с регионом, что поможет улучшить производительность и снизить время отклика для пользователей,.

Внедрение регионального сегментирования базы данных PostgreSQL, которое будет включать следующие компоненты:

Сегментирование: Использование шардирования для распределения нагрузки между несколькими экземплярами PostgreSQL. Каждый экземпляр будет обрабатывать запросы только по определенному региону.

Репликация: Настройка репликации для обеспечения отказоустойчивости. Каждая база данных региона будет иметь одну или несколько реплик.

Балансировка нагрузки: Использование балансировщика нагрузки (Nginx) для распределения запросов между экземплярами баз данных в зависимости от региона

**Последствия:**

**Преимущества:**
Улучшение производительности.
Повышение отказоустойчивости благодаря репликации и распределению нагрузки.
Возможность масштабирования системы

**Недостатки:**
Усложнение архитектуры и необходимость в дополнительной настройке и мониторинге.

Потенциальные проблемы с согласованностью данных между региональными бд.
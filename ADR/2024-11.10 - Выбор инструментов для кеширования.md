**Дата:** 17 ноября 2024 г.

**Статус:** Принято

**Контекст:** 

При разработке системы поиска и бронирования туров мы стоим перед выбором интсрументов для кешировнаия. От этого выбора зависит эффективность отклика приложения и скорость работы(PER01, PER02)

**Рассмотренные варианты:**

1. **MemoryCache** Это встроенный в .NET класс, который предоставляет простой способ кеширования объектов в памяти. Он позволяет хранить данные в памяти приложения, что обеспечивает быстрый доступ к ним. MemoryCache поддерживает различные параметры, такие как время жизни кеша и зависимость от других кешируемых объектов.

2. **Redis** Это популярный инструмент для кеширования, который поддерживает различные структуры данных и обеспечивает высокую производительность. Redis может использоваться как распределенный кеш для приложений, работающих на нескольких серверах.

3. **Entity Framework Caching** Если вы используете Entity Framework, вы можете использовать кеширование на уровне запросов. Например, вы можете кешировать результаты запросов к базе данных, чтобы избежать повторных обращений к ней.

4. **Output Caching** В ASP.NET можно использовать кеширование выходных данных (Output Caching) для кеширования результатов выполнения контроллеров или представлений. Это позволяет значительно снизить время отклика для часто запрашиваемых страниц.

**Решение:**

Выбран Redis

**Обоснование:**

- **Высокая производительность** Redis — это хранилище данных в памяти, что обеспечивает очень высокую скорость чтения и записи. Это делает его идеальным для кеширования, где требуется минимальное время отклика. Redis может обрабатывать миллионы операций в секунду, что позволяет эффективно справляться с высокими нагрузками.

- **Поддержка различных структур данных** Redis поддерживает множество структур данных, таких как строки, хэши, списки, множества и упорядоченные множества. Это позволяет разработчикам использовать Redis не только для простого кеширования, но и для более сложных сценариев, таких как хранение сессий, очередей задач и других временных данных.

- **Распределенность и масштабируемость** Redis поддерживает кластеризацию, что позволяет распределять данные по нескольким узлам. Это обеспечивает горизонтальное масштабирование и отказоустойчивость, что критически важно для распределенных систем. Redis Cluster автоматически управляет шардированием и репликацией данных (SCA01-SCA04).

- **Поддержка репликации и отказоустойчивости** Redis поддерживает мастер-слейв репликацию, что позволяет создавать резервные копии данных и обеспечивать высокую доступность. В случае сбоя основного узла, система может автоматически переключиться на резервный, минимизируя время простоя (SCA01-SCA04).

- **Поддержка TTL (времени жизни)** Redis позволяет устанавливать время жизни (TTL) для ключей, что делает его идеальным для кеширования временных данных. Это позволяет автоматически удалять устаревшие данные и управлять объемом используемой памяти.

- **Сообщество и поддержка** Redis имеет большое и активное сообщество, что обеспечивает наличие множества ресурсов, документации и примеров. Это упрощает решение проблем и получение помощи при необходимости.

- **Безопасность** Redis поддерживает аутентификацию и шифрование данных, что позволяет использовать его в приложениях, требующих защиты конфиденциальной информации (SEC02).